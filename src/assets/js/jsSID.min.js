function playSID(a,b){"undefined"==typeof SIDplayer&&(SIDplayer=new jsSID(16384,5e-4)),SIDplayer.loadstart(a,b)}function jsSID(a,b){function M(a){if(z){A=0,s=a,_(p),$a(),R=s,y[1]=55,y[56325]=0;for(var b=1e5;b>=0&&!aa();b--);n[s]||y[56325]?(y[56325]||(y[56324]=36,y[56325]=64),F=(y[56324]+256*y[56325])/E):F=d/g,0==q?r=(3&y[1])<2?y[65534]+256*y[65535]:y[788]+256*y[789]:(r=q)>=57344&&55==y[1]&&(y[1]=53),_(r),G=1,B=0,I=0,playtime=0,ended=0,A=1}}function N(){if(z&&A&&(G--,playtime+=1/d,G<=0&&(G=F,B=0,Q=r,V=255),0==B)){for(;I<=E;){if(J=Q,aa()>=254){B=1;break}if(I+=Z,(3&y[1])>1&&J<57344&&(59953==Q||60033==Q)){B=1;break}(56325==X||56324==X)&&3&y[1]&&n[s]&&(F=(y[56324]+256*y[56325])/E),$>=54304&&$<55296&&3&y[1]&&(x[1]<=$&&$<x[1]+31||x[2]<=$&&$<x[2]+31||(y[54303&$]=y[$])),54276!=X||1&y[54276]||(ra[0]&=62),54283!=X||1&y[54283]||(ra[1]&=62),54290!=X||1&y[54290]||(ra[2]&=62)}I-=E}return u>0&&parseInt(playtime)==parseInt(u)&&null!==endcallback&&0==ended&&(ended=1,endcallback()),L=_a(0,54272),x[1]&&(L+=_a(1,x[1])),x[2]&&(L+=_a(2,x[2])),L*H*j[K]+(Math.random()*b-b/2)}function _(a){Q=a,R=0,T=0,U=0,Y=0,V=255}function aa(){if(W=y[Q],Z=2,$=0,1&W){switch(31&W){case 1:case 3:X=y[y[++Q]+T]+256*y[y[Q]+T+1],Z=6;break;case 17:case 19:X=y[y[++Q]]+256*y[y[Q]+1]+U,Z=6;break;case 25:case 31:X=y[++Q]+256*y[++Q]+U,Z=5;break;case 29:X=y[++Q]+256*y[++Q]+T,Z=5;break;case 13:case 15:X=y[++Q]+256*y[++Q],Z=4;break;case 21:X=y[++Q]+T,Z=4;break;case 5:case 7:X=y[++Q],Z=3;break;case 23:X=y[++Q]+U,Z=4;break;case 9:case 11:X=++Q,Z=2}switch(X&=65535,224&W){case 96:S=R,R+=y[X]+(1&Y),Y&=20,Y|=128&R|R>255,R&=255,Y|=!R<<1|(!(128&(S^y[X]))&&128&(S^R))>>1;break;case 224:S=R,R-=y[X]+!(1&Y),Y&=20,Y|=128&R|R>=0,R&=255,Y|=!R<<1|(128&(S^y[X])&&128&(S^R))>>1;break;case 192:S=R-y[X],Y&=124,Y|=!(255&S)<<1|128&S|S>=0;break;case 0:R|=y[X],Y&=125,Y|=!R<<1|128&R;break;case 32:R&=y[X],Y&=125,Y|=!R<<1|128&R;break;case 64:R^=y[X],Y&=125,Y|=!R<<1|128&R;break;case 160:R=y[X],Y&=125,Y|=!R<<1|128&R,3==(3&W)&&(T=R);break;case 128:y[X]=R&(3==(3&W)?T:255),$=X}}else if(2&W){switch(31&W){case 30:X=y[++Q]+256*y[++Q]+(128!=(192&W)?T:U),Z=5;break;case 14:X=y[++Q]+256*y[++Q],Z=4;break;case 22:X=y[++Q]+(128!=(192&W)?T:U),Z=4;break;case 6:X=y[++Q],Z=3;break;case 2:X=++Q,Z=2}switch(X&=65535,224&W){case 0:Y&=254;case 32:10==(15&W)?(R=(R<<1)+(1&Y),Y&=60,Y|=128&R|R>255,R&=255,Y|=!R<<1):(S=(y[X]<<1)+(1&Y),Y&=60,Y|=128&S|S>255,S&=255,Y|=!S<<1,y[X]=S,Z+=2);break;case 64:Y&=254;case 96:10==(15&W)?(S=R,R=(R>>1)+128*(1&Y),Y&=60,Y|=128&R|1&S,R&=255,Y|=!R<<1):(S=(y[X]>>1)+128*(1&Y),Y&=60,Y|=128&S|1&y[X],S&=255,Y|=!S<<1,y[X]=S,Z+=2);break;case 192:4&W?(y[X]--,y[X]&=255,Y&=125,Y|=!y[X]<<1|128&y[X],Z+=2):(T--,T&=255,Y&=125,Y|=!T<<1|128&T);break;case 160:if(10!=(15&W))T=y[X];else{if(16&W){T=V;break}T=R}Y&=125,Y|=!T<<1|128&T;break;case 128:4&W?(y[X]=T,$=X):16&W?V=T:(R=T,Y&=125,Y|=!R<<1|128&R);break;case 224:4&W&&(y[X]++,y[X]&=255,Y&=125,Y|=!y[X]<<1|128&y[X],Z+=2)}}else if(8==(12&W))switch(240&W){case 96:V++,V&=255,R=y[256+V],Y&=125,Y|=!R<<1|128&R,Z=4;break;case 192:U++,U&=255,Y&=125,Y|=!U<<1|128&U;break;case 224:T++,T&=255,Y&=125,Y|=!T<<1|128&T;break;case 128:U--,U&=255,Y&=125,Y|=!U<<1|128&U;break;case 0:y[256+V]=Y,V--,V&=255,Z=3;break;case 32:V++,V&=255,Y=y[256+V],Z=4;break;case 64:y[256+V]=R,V--,V&=255,Z=3;break;case 144:R=U,Y&=125,Y|=!R<<1|128&R;break;case 160:U=R,Y&=125,Y|=!U<<1|128&U;break;default:32&O[W>>5]?Y|=223&O[W>>5]:Y&=255-(223&O[W>>5])}else if(16==(31&W))Q++,S=y[Q],128&S&&(S-=256),32&W?Y&P[W>>6]&&(Q+=S,Z=3):Y&P[W>>6]||(Q+=S,Z=3);else{switch(31&W){case 0:X=++Q,Z=2;break;case 28:X=y[++Q]+256*y[++Q]+T,Z=5;break;case 12:X=y[++Q]+256*y[++Q],Z=4;break;case 20:X=y[++Q]+T,Z=4;break;case 4:X=y[++Q],Z=3}switch(X&=65535,224&W){case 0:y[256+V]=Q%256,V--,V&=255,y[256+V]=Q/256,V--,V&=255,y[256+V]=Y,V--,V&=255,Q=y[65534]+256*y[65535]-1,Z=7;break;case 32:15&W?(Y&=61,Y|=192&y[X]|!(R&y[X])<<1):(y[256+V]=(Q+2)%256,V--,V&=255,y[256+V]=(Q+2)/256,V--,V&=255,Q=y[X]+256*y[X+1]-1,Z=6);break;case 64:if(15&W)Q=X-1,Z=3;else{if(V>=255)return 254;V++,V&=255,Y=y[256+V],V++,V&=255,S=y[256+V],V++,V&=255,Q=y[256+V]+256*S-1,Z=6}break;case 96:if(15&W)Q=y[X]+256*y[X+1]-1,Z=5;else{if(V>=255)return 255;V++,V&=255,S=y[256+V],V++,V&=255,Q=y[256+V]+256*S-1,Z=6}break;case 192:S=U-y[X],Y&=124,Y|=!(255&S)<<1|128&S|S>=0;break;case 224:S=T-y[X],Y&=124,Y|=!(255&S)<<1|128&S|S>=0;break;case 160:U=y[X],Y&=125,Y|=!U<<1|128&U;break;case 128:y[X]=U,$=X}}return Q++,Q&=65535,0}function $a(){for(var a=54272;a<=55295;a++)y[a]=0;for(var a=56832;a<=57343;a++)y[a]=0;for(var a=0;a<9;a++)ra[a]=ja,sa[a]=ta[a]=ua[a]=va[a]=0}function _a(a,b){Ya=0,Za=0;for(var c=a*h;c<(a+1)*h;c++)Ia=ra[c]&ba,Ja=b+7*(c-a*h),Ka=y[Ja+4],La=240&Ka,Ma=Ka&ea,Pa=y[Ja+6],Sa=0,Ia!=(Ka&ba)&&(Ia?ra[c]&=255-(ba|la|ka):(ra[c]=ba|la|ka,(15&Pa)>(15&va[c])&&(Sa=1))),va[c]=Pa,sa[c]+=E,sa[c]>=32768&&(sa[c]-=32768),ra[c]&la?(Oa=y[Ja+5]>>4,Na=db[Oa]):ra[c]&ka?(Oa=15&y[Ja+5],Na=db[Oa]):(Oa=15&Pa,Na=db[Oa]),Oa=eb[Oa],sa[c]>=Na&&sa[c]<Na+E&&0==Sa&&(sa[c]-=Na,(ra[c]&la||++ua[c]==fb[ta[c]])&&(ra[c]&ja||(ra[c]&la?(ta[c]+=Oa,ta[c]>=255&&(ta[c]=255,ra[c]&=255-la)):ra[c]&ka&&!(ta[c]>(Pa>>4)+(240&Pa))||(ta[c]-=Oa,ta[c]<=0&&ta[c]+Oa!=0&&(ta[c]=0,ra[c]|=ja))),ua[c]=0)),ta[c]&=255,Qa=(y[Ja]+256*y[Ja+1])*E,Ma||Ka&ca&&ya[a]?wa[c]=0:(wa[c]+=Qa,wa[c]>16777215&&(wa[c]-=16777216)),Ra=8388608&wa[c],ya[a]=Ra>(8388608&xa[c])?1:0,La&ia?(Sa=Aa[c],((1048576&wa[c])!=(1048576&xa[c])||Qa>=1048576)&&(Oa=4194304&Sa^(131072&Sa)<<5,Sa=(Sa<<1)+(Oa>0||Ma)&8388607,Aa[c]=Sa),Va=112&La?0:((1048576&Sa)>>5)+((262144&Sa)>>4)+((16384&Sa)>>1)+((2048&Sa)<<1)+((512&Sa)<<2)+((32&Sa)<<5)+((4&Sa)<<7)+((1&Sa)<<8)):La&ha?(Ta=16*(y[Ja+2]+256*(15&y[Ja+3])),Sa=Qa>>9,0<Ta&&Ta<Sa&&(Ta=Sa),Sa^=65535,Ta>Sa&&(Ta=Sa),Sa=wa[c]>>8,La==ha?(Oa=256/(Qa>>16),Ma?Va=65535:Sa<Ta?(Ua=(65535-Ta)*Oa,Ua>65535&&(Ua=65535),(Va=Ua-(Ta-Sa)*Oa)<0&&(Va=0)):(Ua=Ta*Oa,Ua>65535&&(Ua=65535),Va=(65535-Sa)*Oa-Ua,Va>=0&&(Va=65535),Va&=65535)):(Va=Sa>=Ta||Ma?65535:0,La&fa?La&ga?Va=Va?ab(c,PulseTriSaw_8580,Sa>>4,1):0:(Sa=wa[c]^(Ka&da?za[a]:0),Va=Va?ab(c,PulseSaw_8580,(Sa^(8388608&Sa?16777215:0))>>11,0):0):La&ga&&(Va=Va?ab(c,PulseSaw_8580,Sa>>4,1):0))):La&ga?(Va=wa[c]>>8,La&fa?Va=ab(c,TriSaw_8580,Va>>4,1):(Oa=Qa/18874368,(Va+=Va*Oa)>65535&&(Va=65535-(Va-65536)/Oa))):La&fa&&(Sa=wa[c]^(Ka&da?za[a]:0),Va=(Sa^(8388608&Sa?16777215:0))>>7),La?Ba[c]=Va:Va=Ba[c],xa[c]=wa[c],za[a]=Ra,y[b+23]&ma[c]?Ya+=(Va-32768)*(ta[c]/256):c%h==2&&y[b+24]&qa||(Za+=(Va-32768)*(ta[c]/256));return 3&y[1]&&(y[b+27]=Va>>8),y[b+28]=ta[3],Wa=(7&y[b+21])/8+y[b+22]+.2,8580==w?(Wa=1-Math.exp(Wa*Ga),Xa=Math.pow(2,(4-(y[b+23]>>4))/8)):(Wa=Wa<24?.035:1-1.263*Math.exp(Wa*Ha),Xa=y[b+23]>95?8/(y[b+23]>>4):1.41),Sa=Ya+Fa[a]*Xa+Ea[a],y[b+24]&pa&&(Za-=Sa),Sa=Fa[a]-Sa*Wa,Fa[a]=Sa,y[b+24]&oa&&(Za-=Sa),Sa=Ea[a]+Sa*Wa,Ea[a]=Sa,y[b+24]&na&&(Za+=Sa),Za/i*(15&y[b+24])}function ab(a,b,c,d){return d&&6581==w&&(c&=2047),Da=(b[c]+Ca[a])/2,Ca[a]=b[c],Da}function bb(a,b,c,d){for(var e=0;e<4096;e++){a[e]=0;for(var f=0;f<12;f++){for(var g=0,h=0;h<12;h++)g+=b/Math.pow(c,Math.abs(h-f))*((e>>h&1)-.5);a[e]+=g>=d?Math.pow(2,f):0}a[e]*=12}}if(this.author="Hermit",this.sourcecode="http://hermit.sidrip.com",this.version="0.9.1",this.year="2016","undefined"!=typeof AudioContext)var c=new AudioContext;else var c=new webkitAudioContext;var d=c.sampleRate;if("function"==typeof c.createJavaScriptNode)var e=c.createJavaScriptNode(a,0,1);else var e=c.createScriptProcessor(a,0,1);e.onaudioprocess=function(a){for(var b=a.outputBuffer,c=b.getChannelData(0),d=0;d<b.length;d++)c[d]=N()},this.loadstart=function(a,b){this.loadinit(a,b),null!==D&&D(),this.playcont()},this.loadinit=function(a,b){z=0,this.pause(),$a(),s=b;var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){var b,d,a=new Uint8Array(c.response),e=a[7];for(o=a[8]+a[9]?256*a[8]+a[9]:a[e]+256*a[e+1],b=0;b<32;b++)n[31-b]=a[18+(b>>3)]&Math.pow(2,7-b%8);for(b=0;b<y.length;b++)y[b]=0;for(b=e+2;b<a.byteLength;b++)o+b-(e+2)<y.length&&(y[o+b-(e+2)]=a[b]);for(d=1,b=0;b<32;b++)d=k[b]=0!=d?a[22+b]:0;for(d=1,b=0;b<32;b++)d=l[b]=0!=d?a[54+b]:0;for(d=1,b=0;b<32;b++)d=m[b]=0!=d?a[86+b]:0;p=a[10]+a[11]?256*a[10]+a[11]:o,r=q=256*a[12]+a[13],t=a[15],v[0]=(48&a[119])>=32?8580:6581,v[1]=(192&a[119])>=128?8580:6581,v[2]=(3&a[118])>=3?8580:6581,x[1]=a[122]>=66&&(a[122]<128||a[122]>=224)?53248+16*a[122]:0,x[2]=a[123]>=66&&(a[123]<128||a[123]>=224)?53248+16*a[123]:0,K=1+(x[1]>0)+(x[2]>0),z=1,null!==C&&C(),M(s)},c.send(null)},this.start=function(a){M(a),null!==D&&D(),this.playcont()},this.playcont=function(){e.connect(c.destination)},this.pause=function(){z&&A&&e.disconnect(c.destination)},this.stop=function(){this.pause(),M(s)},this.gettitle=function(){return String.fromCharCode.apply(null,k)},this.getauthor=function(){return String.fromCharCode.apply(null,l)},this.getinfo=function(){return String.fromCharCode.apply(null,m)},this.getsubtunes=function(){return t},this.getprefmodel=function(){return v[0]},this.getmodel=function(){return w},this.getoutput=function(){return Za/i*(15&y[54296])},this.getplaytime=function(){return parseInt(playtime)},this.setmodel=function(a){w=a},this.setvolume=function(a){H=a},this.setloadcallback=function(a){C=a},this.setstartcallback=function(a){D=a},this.setendcallback=function(a,b){endcallback=a,u=b};var f=985248,g=50,h=3,i=65536*h*16,j=[0,1,.6,.4],k=new Uint8Array(32),l=new Uint8Array(32),m=new Uint8Array(32),n=new Uint8Array(32),o=4096,p=4096,q=4099,r=4099,s=0,t=1,u=0,v=[8580,8580,8580],w=8580,x=[54272,0,0],y=new Uint8Array(65536),z=0,A=0,B=0,C=null,D=null;endcallback=null,playtime=0,ended=0;var J,Da,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,E=f/d,F=d/g,G=1,H=1,I=0,K=1,L=0,O=[1,33,4,36,0,64,8,40],P=[128,64,1,2],Q=0,R=0,S=0,T=0,U=0,V=255,W=0,X=0,Y=0,Z=0,$=0,ba=1,ca=2,da=4,ea=8,fa=16,ga=32,ha=64,ia=128,ja=16,ka=64,la=128,ma=[1,2,4,1,2,4,1,2,4],na=16,oa=32,pa=64,qa=128,ra=[0,0,0,0,0,0,0,0,0],sa=[0,0,0,0,0,0,0,0,0],ta=[0,0,0,0,0,0,0,0,0],ua=[0,0,0,0,0,0,0,0,0],va=[0,0,0,0,0,0,0,0,0],wa=[0,0,0,0,0,0,0,0,0],xa=[0,0,0,0,0,0,0,0,0],ya=[0,0,0],za=[0,0,0],Aa=[8388600,8388600,8388600,8388600,8388600,8388600,8388600,8388600,8388600],Ba=[0,0,0,0,0,0,0,0,0],Ca=[0,0,0,0,0,0,0,0,0],Ea=[0,0,0],Fa=[0,0,0],Ga=-306.640625/d,Ha=-490.625/d;TriSaw_8580=new Array(4096),bb(TriSaw_8580,.8,2.4,.64),PulseSaw_8580=new Array(4096),bb(PulseSaw_8580,1.4,1.9,.68),PulseTriSaw_8580=new Array(4096),bb(PulseTriSaw_8580,.8,2.5,.64);var cb=Math.max(E,9),db=[cb,32,63,95,149,220,267,313,392,977,1954,3126,3907,11720,19532,31251],eb=[Math.ceil(cb/9),1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],fb=[1,30,30,30,30,30,30,16,16,16,16,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}